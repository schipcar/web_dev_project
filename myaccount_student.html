<!DOCTYPE html>
<html>

<head>
  <link rel=stylesheet href="canvas_styles.css" TYPE="text/css">
  <script src="canvas_functions.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>
</head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<body onload="LoadMainMenuLinksStudent(); All()">

<script>
var url = document.location.href,
id_user = decodeURI(url.split('=')[1])

function LoadInfo1() {
  $.ajax({
        type: "POST",
        async: false,
        url: "http://localhost:8088/info_account1",
        crossDomain: true,
        data: {user:id_user},
        success: function (data) {
            // SOMETHING
        },
        error: function (err) {
            // SOMETHING
        }
    });
  };


function LoadInfo() {
  var xhttp = new XMLHttpRequest();
  xhttp.overrideMimeType("application/json");
  xhttp.open("GET", "http://localhost:8088/info_account", true);
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      var dict_all = JSON.parse(this.responseText)
      console.log(dict_all)
      document.getElementById("name_account").innerHTML = dict_all[0].name;
      document.getElementById("email_account").innerHTML = dict_all[0].email;
      document.getElementById("id_account").innerHTML = dict_all[0].user;
    }
   }
   xhttp.send();
}

function All(){
  LoadInfo1();
  LoadInfo();
}


</script>

<div id="header">
  <h2 id="course_header"></h2>
</div>

<div id="main">

   <div class="column" id="main_menu">
     <ul class="main_menu_items">
       <li class="selected_menu_item"><a class="main_menu_items" id="myaccount_link">My Account</a></li>
       <li class="main_menu_items"><a class="main_menu_items" id="dashboard_link">Dashboard</a></li>
       <li class="main_menu_items"><a class="main_menu_items" id="courses_link">Courses</a></li>
       <li class="main_menu_items"><a class="main_menu_items" id="logout_link">Logout</a></li>
     </ul>
   </div>

  <div class="column" id="main_panel">
    <h3>My personal information</h3>
    <p style="color:maroon;" style="font-weight:bold;" class="main_menu"> Name: </p>
    <p class="info_student", id="name_account"></p>
    <p style="color:maroon;"class="main_menu"> Email: </p>
    <p class="info_student", id="email_account"></p>
    <p  style="color:maroon;"class="main_menu"> ID: </p>
    <p class="info_student", id="id_account"></p>
  </div>

  <div class="column" id="assignments_panel">
    <h3></h3> <!-- Empty header so that canvas_functions.js knows where to insert assignments divs -->
  </div>
  
</div>

</body>
</html>
